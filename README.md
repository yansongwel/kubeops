# KubeOps

ä¼ä¸šçº§ Kubernetes ç»Ÿä¸€ç®¡ç†å¹³å°ï¼Œé›†æˆ AI æ™ºèƒ½å·¡æ£€ã€DevOps/CI/CDã€æ—¥å¿—å¹³å°å’Œç›‘æ§å¹³å°ã€‚

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

KubeOps è‡´åŠ›äºæˆä¸ºæœ€å…¨é¢ã€å¯æ‰©å±•æ€§æœ€å¼ºçš„ Kubernetes ç®¡ç†å¹³å°ï¼Œæä¾›ï¼š

- âœ… **å®Œæ•´çš„ K8s èµ„æºç®¡ç†**ï¼šç®¡ç†æ‰€æœ‰ Kubernetes èµ„æºå’Œ CRDï¼Œæ”¯æŒæ‰©å±•
- ğŸ¤– **AI æ™ºèƒ½å·¡æ£€**ï¼šæ™ºèƒ½é›†ç¾¤å¥åº·åˆ†æå’Œä¼˜åŒ–å»ºè®®
- ğŸš€ **é›†æˆ DevOps**ï¼šCI/CD æµæ°´çº¿ï¼Œé›†æˆ Jenkins + ArgoCD
- ğŸ“Š **çµæ´»çš„æ—¥å¿—æ–¹æ¡ˆ**ï¼šELK æˆ– Vector+Loki æ–¹æ¡ˆï¼ˆå¯æ‰©å±•åˆ° Graylog ç­‰ï¼‰
- ğŸ“ˆ **çµæ´»çš„ç›‘æ§æ–¹æ¡ˆ**ï¼šPrometheus æˆ– VictoriaMetricsï¼ˆå¯æ‰©å±•ï¼‰
- ğŸŒ **å¼€æºå…è´¹**ï¼šé€‚é…æ‰€æœ‰ä¼ä¸šéœ€æ±‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

KubeOps é‡‡ç”¨**å¾®æœåŠ¡æ¶æ„**ï¼Œéƒ¨ç½²åœ¨ Kubernetes ä¸Šï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APISIX / Higress                          â”‚
â”‚              (API ç½‘å…³ã€è®¤è¯ã€é™æµã€è·¯ç”±)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Istio æœåŠ¡ç½‘æ ¼                            â”‚
â”‚              (æµé‡ç®¡ç†ã€å®‰å…¨ã€å¯è§‚æµ‹æ€§)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kube ç®¡ç†å™¨   â”‚  â”‚   AI å·¡æ£€æœåŠ¡   â”‚  â”‚  DevOps æœåŠ¡    â”‚
â”‚  (K8s èµ„æº)    â”‚  â”‚  (å¥åº·æ£€æŸ¥)     â”‚  â”‚  (CI/CD)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ—¥å¿—æœåŠ¡      â”‚  â”‚   ç›‘æ§æœåŠ¡      â”‚  â”‚  å‰ç«¯ç•Œé¢       â”‚
â”‚ (ELK/Loki)     â”‚  â”‚ (Prometheus/VM) â”‚  â”‚  (Vue 3)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæœåŠ¡

| æœåŠ¡ | æè¿° | æŠ€æœ¯æ ˆ |
|---------|-------------|------------|
| **API ç½‘å…³** | æµé‡å…¥å£ã€è®¤è¯ã€é™æµã€è·¯ç”± | APISIX / Higress |
| **æœåŠ¡ç½‘æ ¼** | æµé‡ç®¡ç†ã€å®‰å…¨ã€å¯è§‚æµ‹æ€§ | Istio |
| **Kube ç®¡ç†å™¨** | K8s èµ„æºç®¡ç† | Go + controller-runtime |
| **AI å·¡æ£€** | AI æ™ºèƒ½åˆ†æ | Go + OpenAI/Ollama |
| **DevOps æœåŠ¡** | Jenkins + ArgoCD é›†æˆ | Go + gRPC |
| **æ—¥å¿—æœåŠ¡** | æ—¥å¿—èšåˆ (ELK/Loki) | Go + Vector |
| **ç›‘æ§æœåŠ¡** | æŒ‡æ ‡å’Œå‘Šè­¦ | Go + Prometheus |
| **å‰ç«¯ç•Œé¢** | Web ä»ªè¡¨ç›˜ | Vue 3 + TypeScript |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.21+
- Node.js 18+
- Docker/Podman
- kubectl
- helm
- kindï¼ˆæœ¬åœ°å¼€å‘ï¼‰æˆ–å¯è®¿é—®çš„ K8s é›†ç¾¤

### æœ¬åœ°å¼€å‘

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/yansongwel/kubeops.git
cd kubeops
```

2. **å¯åŠ¨ä¾èµ–æœåŠ¡**
```bash
docker-compose -f deploy/docker-compose-dev.yaml up -d
```

3. **è¿è¡Œåç«¯æœåŠ¡**
```bash
# ç»ˆç«¯ 1 - API ç½‘å…³
cd backend/api-gateway
go run cmd/server/main.go

# ç»ˆç«¯ 2 - Kube ç®¡ç†å™¨
cd backend/kube-manager
go run cmd/server/main.go
```

4. **è¿è¡Œå‰ç«¯**
```bash
cd frontend
npm install
npm run dev
```

5. **è®¿é—®ä»ªè¡¨ç›˜**
```
http://localhost:5173
```

### éƒ¨ç½²åˆ° Kubernetes

```bash
# åˆ›å»ºå‘½åç©ºé—´
kubectl create namespace kubeops

# ä½¿ç”¨ Helm å®‰è£…
helm install kubeops deploy/helm/kubeops \
  --namespace kubeops \
  --set logging.stack=elk \
  --set monitoring.stack=prometheus

# æˆ–ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
helm install kubeops deploy/helm/kubeops \
  --namespace kubeops \
  -f deploy/examples/values-production.yaml
```

## ğŸ“¦ åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ Kubernetes èµ„æºç®¡ç†
- ç®¡ç†æ‰€æœ‰ K8s åŸç”Ÿèµ„æºï¼ˆDeploymentã€Serviceã€ConfigMap ç­‰ï¼‰
- å®Œæ•´çš„ CRD æ”¯æŒï¼ŒåŠ¨æ€æ¨¡å¼å¤„ç†
- å®æ—¶èµ„æºç›‘æ§å’Œäº‹ä»¶æµ
- èµ„æºéªŒè¯å’Œç­–ç•¥æ‰§è¡Œ
- å¤šé›†ç¾¤ç®¡ç†

### ğŸ¤– AI æ™ºèƒ½å·¡æ£€
- **èµ„æºä¼˜åŒ–**ï¼šæ£€æµ‹èµ„æºé…ç½®è¿‡é«˜/è¿‡ä½
- **å®‰å…¨åˆ†æ**ï¼šæ¼æ´æ‰«æã€RBAC å®¡è®¡
- **å¯é æ€§æ£€æŸ¥**ï¼šå¥åº·æ£€æŸ¥ã€SLO/SLI åˆ†æ
- **æˆæœ¬ä¼˜åŒ–**ï¼šè¯†åˆ«èŠ‚çœæˆæœ¬çš„æœºä¼š
- **é¢„æµ‹åˆ†æ**ï¼šå®¹é‡è§„åˆ’é¢„æµ‹
- **æ—¥å¿—åˆ†æ**ï¼šåŸºäº NLP çš„æ—¥å¿—åˆ†æ

### ğŸš€ DevOps & CI/CD
- **Jenkins é›†æˆ**ï¼šåˆ›å»ºã€è§¦å‘ã€ç›‘æ§ Jenkins ä»»åŠ¡
- **ArgoCD é›†æˆ**ï¼šGitOps éƒ¨ç½²ã€åº”ç”¨åŒæ­¥
- **ä»£ç è´¨é‡**ï¼šSonarQubeã€æµ‹è¯•è¦†ç›–ç‡é›†æˆ
- **æµæ°´çº¿å¯è§†åŒ–**ï¼šå®æ—¶æµæ°´çº¿çŠ¶æ€
- **ç¯å¢ƒç®¡ç†**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒç®¡ç†

### ğŸ“Š æ—¥å¿—å¹³å°ï¼ˆå¯æ’æ‹”ï¼‰
**æ–¹æ¡ˆ 1ï¼šELK Stack**
- Vector + Fluentd â†’ Elasticsearch â†’ Kibana

**æ–¹æ¡ˆ 2ï¼šLoki Stack**
- Vector â†’ VictoriaLogs â†’ Loki â†’ Grafana

**å¯æ‰©å±•**ï¼šæ˜“äºæ·»åŠ  Graylogã€Watchalert ç­‰

### ğŸ“ˆ ç›‘æ§å¹³å°ï¼ˆå¯æ’æ‹”ï¼‰
**æ–¹æ¡ˆ 1ï¼šPrometheus**
- Prometheus + Grafana
- è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™
- ä»ªè¡¨ç›˜æ¨¡æ¿

**æ–¹æ¡ˆ 2ï¼šVictoriaMetrics**
- Prometheus + VictoriaMetricsï¼ˆé›†ç¾¤ç‰ˆï¼‰
- é•¿æœŸæŒ‡æ ‡å­˜å‚¨
- é«˜æ€§èƒ½æŸ¥è¯¢

## ğŸŒ API ç½‘å…³ä¸æœåŠ¡ç½‘æ ¼

### API ç½‘å…³ï¼ˆå¯é€‰ï¼‰

**APISIX**ï¼ˆæ¨èï¼‰ï¼š
- äº‘åŸç”Ÿ API ç½‘å…³
- åŠ¨æ€è·¯ç”±ã€è´Ÿè½½å‡è¡¡
- è®¤è¯æˆæƒï¼ˆJWTã€Keycloakã€LDAPï¼‰
- é™æµç†”æ–­ã€ç°åº¦å‘å¸ƒ
- é«˜æ€§èƒ½ï¼ˆåŸºäº OpenResty + Luaï¼‰

**Higress**ï¼š
- é˜¿é‡Œäº‘å¼€æºçš„äº‘åŸç”Ÿ API ç½‘å…³
- æ”¯æŒ Ingress å’Œ Gateway API
- ä¸ Istio æ·±åº¦é›†æˆ
- æ’ä»¶ç”Ÿæ€ä¸°å¯Œ

### æœåŠ¡ç½‘æ ¼ï¼ˆIstioï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- **æµé‡ç®¡ç†**ï¼šæ™ºèƒ½è·¯ç”±ã€ç°åº¦å‘å¸ƒã€æ•…éšœæ³¨å…¥
- **å®‰å…¨**ï¼šmTLS è®¤è¯ã€ç»†ç²’åº¦æˆæƒ
- **å¯è§‚æµ‹æ€§**ï¼šåˆ†å¸ƒå¼è¿½è¸ªã€æŒ‡æ ‡æ”¶é›†
- **ç­–ç•¥æ‰§è¡Œ**ï¼šè®¿é—®æ§åˆ¶ã€é€Ÿç‡é™åˆ¶

**é›†æˆç‰¹æ€§**ï¼š
- è‡ªåŠ¨ Sidecar æ³¨å…¥
- è™šæ‹ŸæœåŠ¡å’Œç›®æ ‡è§„åˆ™
- æµé‡åˆ†è£‚å’Œ A/B æµ‹è¯•
- è¶…æ—¶å’Œé‡è¯•ç­–ç•¥

## ğŸ” å®‰å…¨ç‰¹æ€§

- JWT/OAuth2 è®¤è¯
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- ç½‘ç»œç­–ç•¥
- å¯†é’¥ç®¡ç†ï¼ˆKubernetes secretsã€Vault é›†æˆï¼‰
- å®¡è®¡æ—¥å¿—
- å®‰å…¨é€šä¿¡ï¼ˆTLS/mTLSï¼‰

## ğŸ§ª æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
make test-unit        # å•å…ƒæµ‹è¯•
make test-integration # é›†æˆæµ‹è¯•
make test-e2e         # ç«¯åˆ°ç«¯æµ‹è¯•

# å‰ç«¯æµ‹è¯•
cd frontend
npm run test:unit     # å•å…ƒæµ‹è¯•
npm run test:integration # é›†æˆæµ‹è¯•
npm run test:e2e      # ç«¯åˆ°ç«¯æµ‹è¯•
```

## ğŸ“š æ–‡æ¡£

- [æ¶æ„æ¦‚è¿°](docs/architecture/README.md)
- [å¿«é€Ÿå¼€å§‹](docs/QUICKSTART.md)
- [API æ–‡æ¡£](docs/api/README.md)
- [å¼€å‘æŒ‡å—](docs/development/README.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment/README.md)
- [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„ï¼ˆå½“å‰ï¼‰
- [x] é¡¹ç›®æ¶æ„å’Œåˆå§‹åŒ–
- [ ] API ç½‘å…³å’Œè®¤è¯
- [ ] Kube ç®¡ç†å™¨ï¼ˆåŸºç¡€ K8s èµ„æºï¼‰
- [ ] å‰ç«¯ä»ªè¡¨ç›˜æ¡†æ¶

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½
- [ ] å®Œæ•´çš„ K8s èµ„æºç®¡ç†
- [ ] AI å·¡æ£€ï¼ˆåŸºç¡€åˆ†æï¼‰
- [ ] å¤šé›†ç¾¤æ”¯æŒ

### ç¬¬ä¸‰é˜¶æ®µï¼šDevOps é›†æˆ
- [ ] Jenkins é›†æˆ
- [ ] ArgoCD é›†æˆ
- [ ] æµæ°´çº¿å¯è§†åŒ–

### ç¬¬å››é˜¶æ®µï¼šå¯è§‚æµ‹æ€§
- [ ] æ—¥å¿—æœåŠ¡ï¼ˆELK + Lokiï¼‰
- [ ] ç›‘æ§æœåŠ¡ï¼ˆPrometheus + VictoriaMetricsï¼‰
- [ ] å‘Šè­¦ç®¡ç†

### ç¬¬äº”é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½
- [ ] é«˜çº§ AI èƒ½åŠ›
- [ ] è‡ªå®šä¹‰ CRD æ„å»ºå™¨
- [ ] ç­–ç•¥å¼•æ“ï¼ˆOPA é›†æˆï¼‰
- [ ] æˆæœ¬ç®¡ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

### å¼€å‘æµç¨‹

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: æ·»åŠ æŸä¸ªåŠŸèƒ½'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ å¼€æºåè®®

Apache License 2.0 - è¯¦è§ [LICENSE](LICENSE)

## ğŸ™ è‡´è°¢

- [Kubernetes](https://kubernetes.io/)
- [controller-runtime](https://github.com/kubernetes-sigs/controller-runtime)
- [Vue.js](https://vuejs.org/)
- [Gin](https://gin-gonic.com/)
- [Prometheus](https://prometheus.io/)
- [Grafana](https://grafana.com/)

## ğŸ“ è”ç³»æ–¹å¼

- ç½‘ç«™ï¼šhttps://kubeops.io
- æ–‡æ¡£ï¼šhttps://docs.kubeops.io
- GitHubï¼šhttps://github.com/your-org/kubeops
- é‚®ç®±ï¼šhello@kubeops.io

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®å¤„äºæ—©æœŸå¼€å‘é˜¶æ®µï¼Œå¹¶éæ‰€æœ‰åŠŸèƒ½éƒ½å·²å®ç°ã€‚è¯·æŸ¥çœ‹ [å¼€å‘è·¯çº¿å›¾](#-å¼€å‘è·¯çº¿å›¾) äº†è§£è¿›å±•ã€‚
